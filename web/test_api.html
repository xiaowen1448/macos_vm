<!DOCTYPE html>
<html>
<head>
    <title>API测试</title>
</head>
<body>
    <h1>API测试</h1>
    <button onclick="testPageSize5()">测试分页大小5</button>
    <button onclick="testPageSize10()">测试分页大小10</button>
    <div id="result"></div>

    <script>
        function testPageSize5() {
            console.log('测试分页大小5');
            fetch('/api/scripts?page=1&page_size=5&_t=' + Date.now())
                .then(response => response.json())
                .then(data => {
                    console.log('分页大小5的响应:', data);
                    document.getElementById('result').innerHTML = 
                        '<h3>分页大小5的结果:</h3>' +
                        '<p>脚本数量: ' + data.scripts.length + '</p>' +
                        '<p>脚本列表: ' + data.scripts.map(s => s.name).join(', ') + '</p>' +
                        '<p>分页信息: ' + JSON.stringify(data.pagination) + '</p>';
                })
                .catch(error => {
                    console.error('错误:', error);
                    document.getElementById('result').innerHTML = '<p>错误: ' + error.message + '</p>';
                });
        }

        function testPageSize10() {
            console.log('测试分页大小10');
            fetch('/api/scripts?page=1&page_size=10&_t=' + Date.now())
                .then(response => response.json())
                .then(data => {
                    console.log('分页大小10的响应:', data);
                    document.getElementById('result').innerHTML = 
                        '<h3>分页大小10的结果:</h3>' +
                        '<p>脚本数量: ' + data.scripts.length + '</p>' +
                        '<p>脚本列表: ' + data.scripts.map(s => s.name).join(', ') + '</p>' +
                        '<p>分页信息: ' + JSON.stringify(data.pagination) + '</p>';
                })
                .catch(error => {
                    console.error('错误:', error);
                    document.getElementById('result').innerHTML = '<p>错误: ' + error.message + '</p>';
                });
        }
    </script>
</body>
</html> 